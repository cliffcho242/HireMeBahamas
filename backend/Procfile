# =============================================================================
# HireMeBahamas Procfile - STEP 7.6 CACHED TRAFFIC ARCHITECTURE
# =============================================================================
# 
# This Procfile is for Railway/Heroku deployments
# For Render, see render.yaml in the root directory
#
# STEP 7.6 - OPTIMIZED FOR CACHED TRAFFIC:
# - FastAPI for maximum performance with async support
# - Uvicorn with uvloop for optimized event loop
# - Single worker optimized for Standard plan (1GB RAM)
# - Redis cache handles most requests (Facebook-level performance)
# - Neon PostgreSQL with connection pooling
#
# Configuration:
# - workers=1: Optimized for 512MB-1GB RAM environments (Uvicorn handles concurrency)
# - FastAPI: Built-in async support, prevents blocking
# - Uvicorn: ASGI server with excellent performance
# - Redis: In-memory caching reduces DB load significantly
#
# Environment variables (set in platform dashboard):
#   PORT=8000                 Default port
#   DATABASE_URL=postgresql://...  Neon PostgreSQL connection string
#   SECRET_KEY=...            Generated secret key
#   JWT_SECRET_KEY=...        Generated JWT secret
#   ENVIRONMENT=production    Production mode
#   REDIS_URL=...            Redis connection string (optional)
# 
# Expected Performance After Step 7.6:
# - Feed: 400-800ms → 20-60ms
# - Auth: 200ms → <50ms
# - Health: 6s → <30ms
# - DB load: High → Very low
# =============================================================================

# Main web process - FastAPI with Uvicorn (STEP 7.6 - CACHED TRAFFIC)
# Note: When using this Procfile, ensure the working directory is 'backend/'
# Railway/Heroku should have root directory set to 'backend/' in settings
# If root is the project root, use: cd backend && uvicorn app.main:app...
web: uvicorn app.main:app --host 0.0.0.0 --port $PORT --workers 1 --log-level info