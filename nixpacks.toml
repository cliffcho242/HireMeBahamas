# Force Python provider only - prevents Node.js detection
providers = ["python"]

[variables]
NIXPACKS_NO_MUSL = "1"
PYTHON_VERSION = "3.12"

[phases.setup]
aptPkgs = ["build-essential", "libffi-dev", "libpq-dev", "postgresql-client"]

[start]
# Use production-ready backend with PostgreSQL support
cmd = "gunicorn final_backend_postgresql:application --bind 0.0.0.0:${PORT:-8080} --workers 4 --timeout 120 --log-level info --access-logfile - --error-logfile -"
