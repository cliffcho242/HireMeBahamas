# Force Python provider only - prevents Node.js detection
providers = ["python"]

[variables]
NIXPACKS_NO_MUSL = "1"
PYTHON_VERSION = "3.12"

[phases.setup]
aptPkgs = ["build-essential", "libffi-dev"]

[start]
# Updated 2025-10-29: Explicitly use port 8080 and reload workers
cmd = "gunicorn -w 4 -b 0.0.0.0:8080 final_backend:app --timeout 120 --log-level=debug --reload"
